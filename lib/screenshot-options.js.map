{"version":3,"sources":["../src/screenshot-options.js"],"names":["opts","getScreenshotOptions","mergeScreenshotOptions","options","viewport","Array","isArray","baseViewport","map","vp","setScreenshotOptions"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AAEA,IAAIA,0CAAJ;;AAEO,IAAMC,sDAAuB,SAAvBA,oBAAuB;AAAA,SAClCD,IADkC;AAAA,CAA7B;;AAIA,IAAME,0DAAyB,SAAzBA,sBAAyB,GAAkB;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AACtD,MAAIC,WAAW,EAAf;;AAEA,MAAIC,MAAMC,OAAN,CAAcH,QAAQC,QAAtB,CAAJ,EAAqC;AACnC,QAAMG,eAAe,CAACF,MAAMC,OAAN,CAAcN,KAAKI,QAAnB,CAAD,GACjBJ,KAAKI,QADY,GAEjB,oCAAyBA,QAF7B;;AAIAA,eAAWD,QAAQC,QAAR,CAAiBI,GAAjB,CAAqB;AAAA,0BAC3BD,YAD2B,EAE3BE,EAF2B;AAAA,KAArB,CAAX;AAID,GATD,MASO;AACLL,4BAAiBD,QAAQC,QAAR,IAAoB,EAArC;AACD;;AAED,SAAO,0BAAO,EAAP,EAAWJ,IAAX,eACFG,OADE;AAELC;AAFK,KAAP;AAID,CApBM;;AAsBA,IAAMM,sDAAuB,SAAvBA,oBAAuB,GAAkB;AAAA,MAAjBP,OAAiB,uEAAP,EAAO;;AACpDH,SAAOE,uBAAuBC,OAAvB,CAAP;AACD,CAFM","file":"screenshot-options.js","sourcesContent":["import assign from 'assign-deep';\nimport { defaultScreenshotOptions } from './constants';\n\nlet opts = defaultScreenshotOptions;\n\nexport const getScreenshotOptions = () => (\n  opts\n);\n\nexport const mergeScreenshotOptions = (options = {}) => {\n  let viewport = {};\n\n  if (Array.isArray(options.viewport)) {\n    const baseViewport = !Array.isArray(opts.viewport)\n      ? opts.viewport\n      : defaultScreenshotOptions.viewport;\n\n    viewport = options.viewport.map(vp => ({\n      ...baseViewport,\n      ...vp,\n    }));\n  } else {\n    viewport = { ...(options.viewport || {}) };\n  }\n\n  return assign({}, opts, {\n    ...options,\n    viewport,\n  });\n};\n\nexport const setScreenshotOptions = (options = {}) => {\n  opts = mergeScreenshotOptions(options);\n};\n"]}